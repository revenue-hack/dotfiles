/courses/search/{search_type}:
  post:
    tags:
      - 講習
    summary: 講習の検索を行います
    description: 講習の検索を行います
    parameters:
      - name: search_type
        in: path
        required: true
        description: |
          検索する講習の種別<br>
            required:  必須の講習を検索<br>
            optional:  任意の講習を検索<br>
            expired:   期限切れの講習を検索<br>
            completed: 受講完了した講習を検索<br>
        schema:
          type: string
          example: required
          enum:
            - required
            - optional
            - expired
            - completed
    requestBody:
      content:
        application/json:
          schema:
            type: object
            properties:
              categoryId:
                type: number
                description: |
                  カテゴリIDでのフィルタを行う場合に指定<br>
                  未指定の場合は全てのカテゴリの講習を検索します
                nullable: true
                default: null
                example: 10
              searchWord:
                type: string
                description: |
                  検索ワード<br>
                  講習名の部分一致を行います。（AND/OR検索非対応- ）
                nullable: true
                default: null
                example: ロジカル
              nextPageToken:
                type: number
                description: |
                  2ページ目移行のデータを取得したい場合、1ページ目のAPIリクエスト時に返却されたnextPageTokenを設定<br>
                  値を指定しない場合は1ページ目のデータを取得します
                nullable: true
                default: null
                example: xxxxxxxxxx
    responses:
      200:
        description: OK
        content:
          application/json:
            schema:
              type: object
              properties:
                maxPageSize:
                  type: number
                  description: 実行時点でのAPIから取得できる推定の最大ページ数です
                  example: 10
                nextPageToken:
                  type: string
                  description: |
                    次のページを取得するためのトークンです<br>
                    次のページが存在しない場合にはnullを返却します
                  nullable: true
                  example: xxxxxxxxxx
                courses:
                  type: array
                  items :
                    type: object
                    properties:
                      id:
                        type: number
                        description: 講習id
                        example: 1
                      title:
                        type: string
                        description: 講習タイトル
                        example: ロジカルシンキング研修
                      thumbnail:
                        type: object
                        description: |
                          サムネイル画像に関する情報をまとめるオブジェクトです<br>
                          サムネイル画像が未設定の場合はnullを返却します
                        nullable: true
                        properties:
                          name:
                            type: string
                            description: サムネイル画像名
                            example: thumbnail.png
                          url:
                            type: string
                            description: サムネイル画像URL
                            example: http://localhost/path/to/thumbnail.png
                      categoryName:
                        type: string
                        description: |
                          カテゴリ名<br>
                          カテゴリが未設定の場合はnullを返却します
                        nullable: true
                        example: 新卒研修
                      expireAt:
                        type: string
                        description: |
                          受講期限<br>
                          受講期限がない場合はnullを返却します
                        nullable: true
                        example: 2023-01-10 10:00:00
                      recommend:
                        type: number
                        description: |
                          おすすめ度の数値<br>
                          おすすめ度がない場合はnullを返却します
                        nullable: true
                        example: 90
                      isRequired:
                        type: boolean
                        description: 必須受講の講習を表すフラグ
                        example: true
                      isFixed:
                        type: boolean
                        description: 受講期間が終了した講習を表すフラグ
                        example: false

/courses/{course_type}:
  post:
    tags:
      - 講習
    summary: 講習の新規作成を行います
    description: e-Learning、集合研修の新規作成を行います
    parameters:
      - name: course_type
        in: path
        required: true
        description: 登録を行う講習の種別
        schema:
          type: string
          enum: [e_learning, group_training]
          example: e_learning
    responses:
      201:
        description: Created
        content:
          application/json:
            schema:
              type: object
              properties:
                id:
                  type: number
                  description: 講習ID
                  example: 10

/courses/{course_id}:
  delete:
    tags:
      - 講習
    summary: 講習の削除を行います
    description: 講習の削除を行います
    parameters:
      - $ref: "#/components/parameters/CourseId"
    responses:
      204:
        description: No Content
